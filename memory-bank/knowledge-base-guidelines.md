# 知识库文档清洗与切分规则（Step 3 输出）

## 1. 文档范围
- 允许一门课程关联多份文档（大纲、讲义、习题、补充材料）。
- 当前样本课程：数据库基础（示例）。

## 2. 清洗规则
- 仅保留正文内容，移除页眉页脚、页码与重复目录。
- 统一空白：连续空行合并为 1 行。
- 保留标题层级，标题与正文之间空 1 行。
- 代码块与示例保留原样，不做拆分。

## 3. 切分规则
- 按段落与标题层级切分。
- 单片段最小长度：80 字符（不足则与相邻段落合并）。
- 单片段最大长度：600 字符（超出则在最近句号处分段）。
- 切分后为每个片段生成：`chunk_id`、`source_doc`、`title_path`、`content`。

## 4. 样本文件位置
- `data/knowledge-base/sample-course/course-outline.md`
- `data/knowledge-base/sample-course/lecture-notes.md`
